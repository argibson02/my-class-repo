(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{70:function(t,e,c){},78:function(t,e,c){"use strict";c.r(e);var n,a,r,s,h=c(3),o=c.n(h),i=c(57),l=c.n(i),d=(c(70),c(79)),j=c(90),u=c(88),b=c(21),m=c(7),g=c(87),x=c(2),O=function(t){var e=t.thoughts,c=t.title;return e.length?Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:c}),e&&e.map((function(t){return Object(x.jsxs)("div",{className:"card mb-3",children:[Object(x.jsxs)("h4",{className:"card-header bg-primary text-light p-2 m-0",children:[t.thoughtAuthor," ",Object(x.jsx)("br",{}),Object(x.jsxs)("span",{style:{fontSize:"1rem"},children:["had this thought on ",t.createdAt]})]}),Object(x.jsx)("div",{className:"card-body bg-light p-2",children:Object(x.jsx)("p",{children:t.thoughtText})}),Object(x.jsx)(b.b,{className:"btn btn-block btn-squared btn-light text-dark",to:"/thought/".concat(t._id),children:"View this thought"})]},t._id)}))]}):Object(x.jsx)("h3",{children:"No Thoughts Yet"})},p=c(36),v=c(28),f=c.n(v),y=c(31),N=c(39),T=c(61),w=c(22),A=c(82),S=c(29),k=c(89),C=Object(k.a)(n||(n=Object(S.a)(["\n  mutation addThought($thoughtText: String!, $thoughtAuthor: String!) {\n    addThought(thoughtText: $thoughtText, thoughtAuthor: $thoughtAuthor) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n      }\n    }\n  }\n"]))),I=Object(k.a)(a||(a=Object(S.a)(["\n  mutation addComment($thoughtId: ID!, $commentText: String!) {\n    addComment(thoughtId: $thoughtId, commentText: $commentText) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        createdAt\n      }\n    }\n  }\n"]))),_=Object(k.a)(r||(r=Object(S.a)(["\n  query getThoughts {\n    thoughts {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n    }\n  }\n"]))),$=Object(k.a)(s||(s=Object(S.a)(["\n  query getSingleThought($thoughtId: ID!) {\n    thought(thoughtId: $thoughtId) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        createdAt\n      }\n    }\n  }\n"]))),q=function(){var t=Object(h.useState)({thoughtText:"",thoughtAuthor:""}),e=Object(w.a)(t,2),c=e[0],n=e[1],a=Object(h.useState)(0),r=Object(w.a)(a,2),s=r[0],o=r[1],i=Object(A.a)(C,{update:function(t,e){var c=e.data.addThought;try{var n=t.readQuery({query:_}).thoughts;t.writeQuery({query:_,data:{thoughts:[c].concat(Object(T.a)(n))}})}catch(a){console.error(a)}}}),l=Object(w.a)(i,2),d=l[0],j=l[1].error,u=function(){var t=Object(N.a)(f.a.mark((function t(e){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,d({variables:Object(y.a)({},c)});case 4:a=t.sent,a.data,n({thoughtText:"",thoughtAuthor:""}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),b=function(t){var e=t.target,a=e.name,r=e.value;"thoughtText"===a&&r.length<=280?(n(Object(y.a)(Object(y.a)({},c),{},Object(p.a)({},a,r))),o(r.length)):"thoughtText"!==a&&n(Object(y.a)(Object(y.a)({},c),{},Object(p.a)({},a,r)))};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"What's on your techy mind?"}),Object(x.jsxs)("p",{className:"m-0 ".concat(280===s||j?"text-danger":""),children:["Character Count: ",s,"/280",j&&Object(x.jsx)("span",{className:"ml-2",children:"Something went wrong..."})]}),Object(x.jsxs)("form",{className:"flex-row justify-center justify-space-between-md align-center",onSubmit:u,children:[Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("textarea",{name:"thoughtText",placeholder:"Here's a new thought...",value:c.thoughtText,className:"form-input w-100",style:{lineHeight:"1.5"},onChange:b})}),Object(x.jsx)("div",{className:"col-12 col-lg-9",children:Object(x.jsx)("input",{name:"thoughtAuthor",placeholder:"Add your name to get credit for the thought...",value:c.thoughtAuthor,className:"form-input w-100",onChange:b})}),Object(x.jsx)("div",{className:"col-12 col-lg-3",children:Object(x.jsx)("button",{className:"btn btn-primary btn-block py-3",type:"submit",children:"Add Thought"})}),j&&Object(x.jsx)("div",{className:"col-12 my-3 bg-danger text-white p-3",children:"Something went wrong..."})]})]})},F=function(){var t=Object(g.a)(_),e=t.loading,c=t.data,n=(null===c||void 0===c?void 0:c.thoughts)||[];return Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"flex-row justify-center",children:[Object(x.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"},children:Object(x.jsx)(q,{})}),Object(x.jsx)("div",{className:"col-12 col-md-8 mb-3",children:e?Object(x.jsx)("div",{children:"Loading..."}):Object(x.jsx)(O,{thoughts:n,title:"Some Feed for Thought(s)..."})})]})})},B=function(t){var e=t.comments,c=void 0===e?[]:e;return console.log(c),c.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"p-5 display-inline-block",style:{borderBottom:"1px dotted #1a1a1a"},children:"Comments"}),Object(x.jsx)("div",{className:"flex-row my-4",children:c&&c.map((function(t){return Object(x.jsx)("div",{className:"col-12 mb-3 pb-3",children:Object(x.jsxs)("div",{className:"p-3 bg-dark text-light",children:[Object(x.jsxs)("h5",{className:"card-header",children:["An anonymous user commented"," ",Object(x.jsxs)("span",{style:{fontSize:"0.825rem"},children:["on ",t.createdAt]})]}),Object(x.jsx)("p",{className:"card-body",children:t.commentText})]})},t._id)}))})]}):Object(x.jsx)("h3",{children:"No Comments Yet"})},D=function(t){var e=t.thoughtId,c=Object(h.useState)(""),n=Object(w.a)(c,2),a=n[0],r=n[1],s=Object(h.useState)(0),o=Object(w.a)(s,2),i=o[0],l=o[1],d=Object(A.a)(I),j=Object(w.a)(d,2),u=j[0],b=j[1].error,m=function(){var t=Object(N.a)(f.a.mark((function t(c){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,u({variables:{thoughtId:e,commentText:a}});case 4:n=t.sent,n.data,r(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"What are your thoughts on this thought?"}),Object(x.jsxs)("p",{className:"m-0 ".concat(280===i||b?"text-danger":""),children:["Character Count: ",i,"/280",b&&Object(x.jsx)("span",{className:"ml-2",children:"Something went wrong..."})]}),Object(x.jsxs)("form",{className:"flex-row justify-center justify-space-between-md align-center",onSubmit:m,children:[Object(x.jsx)("div",{className:"col-12 col-lg-9",children:Object(x.jsx)("textarea",{name:"commentText",placeholder:"Add your comment...",value:a,className:"form-input w-100",style:{lineHeight:"1.5"},onChange:function(t){var e=t.target,c=e.name,n=e.value;"commentText"===c&&n.length<=280&&(r(n),l(n.length))}})}),Object(x.jsx)("div",{className:"col-12 col-lg-3",children:Object(x.jsx)("button",{className:"btn btn-primary btn-block py-3",type:"submit",children:"Add Comment"})})]})]})},z=function(){var t=Object(m.g)().thoughtId,e=Object(g.a)($,{variables:{thoughtId:t}}),c=e.loading,n=e.data,a=(null===n||void 0===n?void 0:n.thought)||{};return c?Object(x.jsx)("div",{children:"Loading..."}):Object(x.jsxs)("div",{className:"my-3",children:[Object(x.jsxs)("h3",{className:"card-header bg-dark text-light p-2 m-0",children:[a.thoughtAuthor," ",Object(x.jsx)("br",{}),Object(x.jsxs)("span",{style:{fontSize:"1rem"},children:["had this thought on ",a.createdAt]})]}),Object(x.jsx)("div",{className:"bg-light py-4",children:Object(x.jsx)("blockquote",{className:"p-4",style:{fontSize:"1.5rem",fontStyle:"italic",border:"2px dotted #1a1a1a",lineHeight:"1.5"},children:a.thoughtText})}),Object(x.jsx)("div",{className:"my-5",children:Object(x.jsx)(B,{comments:a.comments})}),Object(x.jsx)("div",{className:"m-3 p-4",style:{border:"1px dotted #1a1a1a"},children:Object(x.jsx)(D,{thoughtId:a._id})})]})},H=function(){return Object(x.jsx)("header",{className:"bg-primary text-light mb-4 py-3 flex-row align-center",children:Object(x.jsxs)("div",{className:"container flex-row justify-space-between-lg justify-center align-center",children:[Object(x.jsx)(b.b,{className:"text-light",to:"/",children:Object(x.jsx)("h1",{className:"m-0",children:"Tech Thoughts"})}),Object(x.jsx)("p",{className:"m-0",children:"Get into the mind of a programmer."})]})})},L=function(){var t=Object(m.f)(),e=Object(m.e)();return Object(x.jsx)("footer",{className:"w-100 mt-auto bg-secondary p-4",children:Object(x.jsxs)("div",{className:"container text-center mb-5",children:["/"!==t.pathname&&Object(x.jsx)("button",{className:"btn btn-dark mb-3",onClick:function(){return e.goBack()},children:"\u2190 Go Back"}),Object(x.jsxs)("h4",{children:["Made with"," ",Object(x.jsx)("span",{className:"emoji",role:"img","aria-label":"heart","aria-hidden":"false",children:"\u2764\ufe0f"})," ","by the Tech Thoughts team."]})]})})},G=new d.a({uri:"/graphql",cache:new j.a});var J=function(){return Object(x.jsx)(u.a,{client:G,children:Object(x.jsx)(b.a,{children:Object(x.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(x.jsx)(H,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(m.a,{exact:!0,path:"/",children:Object(x.jsx)(F,{})}),Object(x.jsx)(m.a,{exact:!0,path:"/thought/:thoughtId",component:z,children:Object(x.jsx)(z,{})})]}),Object(x.jsx)(L,{})]})})})},M=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,92)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),r(t),s(t)}))};l.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root")),M()}},[[78,1,2]]]);
//# sourceMappingURL=main.d27a3d72.chunk.js.map